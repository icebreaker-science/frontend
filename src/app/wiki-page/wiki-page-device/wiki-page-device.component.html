<app-contact-form
  [availability]="contactAvailability"
  [hidden]="!contactForm"
  (hide)="closeContactForm();"
  (msgSent)="sendContactForm();"
>
</app-contact-form>
<app-availability-add
  [availability]="addAvailability"
  [hidden]="!addForm"
  (hideAdd)="closeAddForm();"
  (addMsgSent)="sendAddForm();"
>
</app-availability-add>
<div class="wiki-device">
  <div class="row">
    <div class="col-10 wiki-device-hl">
        <h3>Offers</h3>
    </div>
    <div  class="col-2 wiki-device-offer-button wiki-device-hl mt-0 ">
      <button [hidden]="!isLoggedIn" type="button" class="btn btn-success" (click)="openAddForm(wikiPage.id)">Add Availability</button>
    </div>
    <div *ngIf="deviceAvailabilities && deviceAvailabilities.length === 0" class="col-12 wiki-device-subline">
      <p>This device is currently not offered by any institution</p>
    </div>
  </div>
  <div *ngFor="let availability of deviceAvailabilities" class="row wiki-device-offer">
    <div class="col-lg-10">
      <h4>{{ availability.institution }}</h4>
      <p>{{ availability.comment }}</p>
    </div>
    <div class="col-lg-2 wiki-device-offer-button">
      <button type="button" class="btn btn-primary" (click)="openContactForm(availability)">Contact</button>
    </div>
  </div>
</div>
