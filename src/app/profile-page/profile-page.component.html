<app-availability-edit
  [availability]="editAvailability"
  [hidden]="!editForm"
  (hideEdit)="closeEditForm();"
  (editMsg)="sendEditForm();"
  [infoMessage]="this.infoMessage"
>
</app-availability-edit>
<app-availability-delete
  [availability]="deleteAvailability"
  [hidden]="!deleteForm"
  (hideDelete)="closeDeleteForm();"
  (deleteMsg)="sendDeleteForm();"
  [infoMessage]="this.infoMessage"
>
</app-availability-delete>
<div id="main">
  <div class="container-fluid content">
    <div class="row justify-content-center">
      <div class="row col-12 p-5 justify-content-center " id="profile-row" *ngIf="profile">
        <div class="col-8 justify-content-start ">
          <div>
            <p><b>{{titleDotCheck(profile.title)}} {{profile.forename + ' ' + profile.surname}}</b></p>
            <p>{{ profile.institution }}</p>
            <p>{{ profile.city }}</p>
            <p>{{ profile.researchArea }}</p>
          </div>
        </div>
      </div>
    </div>
    <div class="col-lg-12">
      <h2 class="text-center">Your devices</h2>
    </div>
    <div class="row justify-content-center">
      <div class="filter-container col-10 my-4">
        <div class="filter-container-inner">
          <label for="filter">Filter: </label>
          <input type="text" class="form-control input-form" id="filter" name="filter" [(ngModel)]="filter"
                 (input)="onFilterChange()">
        </div>
      </div>
    </div>
    <div class="text-center py-2 text-dark justify-content-left">
      <div class="row justify-content-center">
        <div class="device-container col-lg-10">
          <div class="col-lg-12 ow jumbotron"
               *ngFor="let da of deviceAndAvailability$ | stringAvailFilter: filter | paginate: config;">


            <div class="lead my-2">
              <span>Institution:<h3>{{ da.availability.institution }}</h3></span>
              <span>comment: <p> {{ da.availability.comment }}</p></span>
              <a class="mx-2 my-2" [routerLink]="['/wiki-page', da.availability.deviceId]">
                <button class="btn btn-info">See Device</button>
              </a>
              <div class="row my-3 justify-content-center">
                <div class="col-6">
                  <a class="mx-2" (click)="openEditForm(da.availability)">
                    <button class="btn btn-success">Edit</button>
                  </a>
                  <a class="mx-2" (click)="openDeleteForm(da.availability)">
                    <button class="btn btn-danger">Delete</button>
                  </a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="row justify-content-center my-3">
      <pagination-controls id="device_pagination"
                           (pageChange)="onPageChange($event)"
      ></pagination-controls>
    </div>
  </div>
</div>


